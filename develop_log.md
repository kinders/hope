# 开发日记
## 2017年 02月 17日 星期五 12:37:57 CST
这两天都在思考朋友关系的实现。
几种方案。
第一种是开放性方案：每个人可以关注另一个人。关注后，可以提出请求。但如果对方没有同时关注他，则视为陌生人请求。
第二种是限制性方案：每个人必须经过另一个的同意，才能作为好友，才能看到对方的主页，才能互相发送请求。
对于用户来说，限制性方案比较常见，数据简洁。要害是在成为好友之前，无法交往。
我更喜欢开放性方案，可是大量的陌生请求（可能是非法和不道德的）该怎么办呢？
其次：处理的逻辑将会变得更加复杂。因为需要区分朋友和跟随者，请求也需要区分。
不过不管怎么说，经过这三天的犹豫，我都还是更喜欢开放模式：意识到自己的困境，自由地向任何人士提出请求，得到全世界的帮助，这正是人间温暖的地方。

## 2017年 02月 09日 星期四 20:15:04 CST
昨天晚上去汕尾路上想到，根本不需要设置“班级-班主任-科任教师-班干部-普通学生”这么复杂的角色。
只需要一个用户和朋友关系，就可以了。
这么一来，逻辑关系和视图页面就简单多了。

应用的名称也简单多了。微单伟蛋well done，或者惠施wish。
不过今天晚上终于决定为：希望hope。正能量爆棚！

关于用户认证，也尘埃落定：devise和omniauth（网页认证）都可以不使用了。直接用一个user表来存储微信的openid就可以了。至于以后接入其他账户体系，现在确实言之尚早。

关于“许愿”的是否设置隐藏的问题，确实比较复杂。就因为太复杂，让所有“许愿”都看得到，其实是最简单的。否则，这些隐藏的内容会抑制社交的开放性。

### 基本流程：
#### 初始化
登录系统
检查支付
#### 我
分享自己的名片，发送可朋友圈加为好友
删除好友时，无法互相发送任务，但之前的任务可见
查看自己所有未完成的任务
查看自己所有已完成的任务
可以对未完成或已完成的任务进行排序筛选：按时间，按朋友（可多选）
点开具体任务，可以沟通，发送提示完成任务消息。
#### 许愿
我布置的任务列表。（包括针对一个朋友或者一个朋友群的）
点击进入单个任务完成。
可以就单个任务进行沟通，并关闭任务。
#### 朋友
朋友列表
将多个朋友标记为一个朋友群。
点击单个朋友可以看到该朋友的任务列表。
多个朋友可以留言，证明该任务已经完成。
